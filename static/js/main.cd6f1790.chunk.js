(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{120:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),o=a.n(c),l=(a(94),a(95),a(19)),u=a(23),s=a.n(u),i=a(13),m=a(16),p=a(81),f=a(48),E=a.n(f),d=function(e){var t=e.onEnter,a=e.error,n=Object(p.a)(e,["onEnter","error"]),c=a?E.a.input+" "+E.a.inputError:E.a.input;return r.a.createElement("div",null,r.a.createElement("input",Object.assign({className:c,type:"text",name:"myInput",onKeyDown:function(e){13===e.charCode&&t&&t()}},n)))},b=a(66),O=a.n(b),g=function(e){return r.a.createElement("div",null,r.a.createElement("button",Object.assign({className:O.a.button},e)))},h=function(e){var t=e.loading,a=e.email,n=e.password,c=e.checkPassword,o=e.error,l=e.setEmail,u=e.setPassword,s=e.setCheckPassword,m=e.signUp;return r.a.createElement("div",null,r.a.createElement(d,{placeholder:"login",value:a,onChange:l}),r.a.createElement(d,{type:"password",placeholder:"password",value:n,onChange:u,error:o}),r.a.createElement(d,{type:"password",placeholder:"check password",value:c,onChange:s,error:o}),r.a.createElement(g,{onClick:m,disabled:!!t},"SIGN UP"),r.a.createElement(i.b,{to:Qe},"SIGN IN"))},v=a(12),k=a(7),S=a.n(k),j=a(17),R=a(8),_=a(24),w=a.n(_),I=w.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/"}),y=function(e,t){return I.post("auth/register",{email:e,password:t}).then((function(e){return e.data.success}))},C={error:"",success:!1,loading:!1},P=function(e){return{type:"signUp/SET_REGISTER_ERROR",error:e}},T=a(68),N=a.n(T),x=function(e){var t=e.message;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:N.a.error},t))},A=a(69),U=a.n(A),G=function(e){return r.a.createElement("p",{className:U.a.loading},"Loading...")},D=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),u=Object(l.a)(o,2),s=u[0],i=u[1],p=Object(n.useState)(""),f=Object(l.a)(p,2),E=f[0],d=f[1],b=Object(v.c)((function(e){return e.registrationPage})),O=b.error,g=b.success,k=b.loading,R=Object(v.b)(),_=Object(n.useCallback)((function(e){c(e.currentTarget.value),R(P(""))}),[c]),w=Object(n.useCallback)((function(e){i(e.currentTarget.value)}),[i]),I=Object(n.useCallback)((function(e){d(e.currentTarget.value)}),[d]),C=Object(n.useCallback)((function(){s.length===E.length&&s===E?a&&s&&E&&R(function(e,t){return function(){var a=Object(j.a)(S.a.mark((function a(n){return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"SET_LOADING"}),a.next=4,y(e,t);case 4:a.sent&&n({type:"signUp/IIS_REGISTER_SUCCESS"}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n(P(a.t0.message));case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(a,s)):R(P("passwords don't match"))}),[a,s,E]);return g?r.a.createElement(m.a,{to:Qe}):r.a.createElement("div",null,r.a.createElement("h2",null,"SIGN UP"),k&&r.a.createElement(G,null),!!O&&r.a.createElement(x,{message:O}),r.a.createElement(h,{loading:k,email:a,password:s,checkPassword:E,error:O,setEmail:_,setPassword:w,setCheckPassword:I,signUp:C}))},F=function(){return r.a.createElement("div",null,r.a.createElement(d,{type:"password"}),r.a.createElement(d,null),r.a.createElement(g,null,"SEND PASSWORD"),r.a.createElement(i.b,{to:Qe},"SIGN IN"))},W=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"SET NEW PASSWORD"),r.a.createElement(F,null))},L=w.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/"}),M=function(e){return Object(j.a)(S.a.mark((function t(){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.post("auth/forgot",{email:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},z={success:!1,error:""},Z=function(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],o=a[1],u=Object(v.b)(),s=Object(n.useCallback)((function(e){o(e.currentTarget.value)}),[o]);return r.a.createElement("div",null,r.a.createElement(d,{type:"email",placeholder:"email",onChange:s,value:c,error:e.error}),r.a.createElement(g,{onClick:function(){u(function(e){return function(){var t=Object(j.a)(S.a.mark((function t(a){var n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M(e);case 3:t.next=10;break;case 5:t.prev=5,t.t0=t.catch(0),n=t.t0,console.log(n),a({type:"FORGOT_PASSWORD_ERROR",error:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()}(c))}},"Send email"),r.a.createElement(i.b,{to:Qe},"Sign in"))},K=function(){var e=Object(v.c)((function(e){return e.forgotPasswordPage.error}));return r.a.createElement("div",null,r.a.createElement("h2",null,"FORGOT PASSWORD"),!!e&&r.a.createElement(x,{message:e}),r.a.createElement(Z,{error:e}))},H=function(){return r.a.createElement("div",null,r.a.createElement(K,null))},J=a(44),V=a.n(J),Q=function(e){var t=e.email,a=e.password,n=e.rememberMe,c=e.error,o=e.setEmail,l=e.setPassword,u=e.setRememberMe,s=e.signIn;return r.a.createElement("div",{className:V.a.signIn},r.a.createElement(d,{placeholder:"email",type:"email",onChange:o,value:t,error:c}),r.a.createElement(d,{type:"password",placeholder:"password",onChange:l,value:a,error:c}),r.a.createElement(d,{type:"checkbox",onChange:u,checked:n}),r.a.createElement("span",null,"Remember Me"),r.a.createElement(g,{onClick:s},"SIGN IN"),r.a.createElement(i.b,{to:qe},"Forgot password?"),r.a.createElement("br",null),r.a.createElement(i.b,{to:Be},"Registration"))},B=w.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/"}),q=function(e,t,a){return Object(j.a)(S.a.mark((function n(){return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,B.post("auth/login",{email:e,password:t,rememberMe:a});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},$=w.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/"}),X=function(e){localStorage.setItem("token",e)},Y=function(){return localStorage.getItem("token")},ee=function(e){return Object(j.a)(S.a.mark((function t(){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.post("auth/me",{token:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},te={profile:{},error:"",token:""},ae=function(e){return{type:"profile/SET_PROFILE",profile:e}},ne=function(e){return{type:"profile/SET_TOKEN",token:e}},re=function(e){return{type:"profile/SET_ERROR",error:e}},ce={isAuth:!1,error:""},oe=function(e){return{type:"signIn/IS_AUTH_SUCCESS",error:"",isAuth:e}},le=function(e){return{type:"signIn/SET_ERROR",error:e,isAuth:!1}},ue=function(e){return function(t){t(le(e))}},se=function(){var e=Object(v.c)((function(e){return e.signInPage.error})),t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],o=a[1],u=Object(n.useState)(""),s=Object(l.a)(u,2),i=s[0],m=s[1],p=Object(n.useState)(!1),f=Object(l.a)(p,2),E=f[0],d=f[1],b=Object(v.b)(),O=Object(n.useCallback)((function(){c&&i?(b(function(e,t,a){return function(){var n=Object(j.a)(S.a.mark((function n(r){var c;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,q(e,t,a);case 3:c=n.sent,r(oe(!0)),r(ne(c.data.token)),X(c.data.token),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),n.t0.response?r(le(n.t0.response.data.error)):r(le("Some ERROR"));case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(c,i,E)),o(""),m(""),d(!1)):b(ue("all fields must be filled"))}),[c,i,E,b]),g=Object(n.useCallback)((function(e){o(e.currentTarget.value),b(ue(""))}),[o,b]),h=Object(n.useCallback)((function(e){m(e.currentTarget.value),b(ue(""))}),[m]),k=Object(n.useCallback)((function(e){return d(e.currentTarget.checked)}),[d]);return r.a.createElement("div",{className:V.a.wraper},r.a.createElement("h2",null,"SIGN IN"),e&&r.a.createElement(x,{message:e}),r.a.createElement(Q,{email:c,password:i,rememberMe:E,error:e,setEmail:g,setPassword:h,setRememberMe:k,signIn:O}))},ie=function(){var e=Object(v.c)((function(e){return e.signInPage.isAuth}));return r.a.createElement(r.a.Fragment,null,e&&r.a.createElement(m.a,{to:$e}),r.a.createElement(se,null))},me=function(e){var t=e.profile;return r.a.createElement("div",null,r.a.createElement("h2",null,t.name))},pe=function(){var e=Object(v.c)((function(e){return e.profilePage.profile})),t=Object(v.b)();Object(n.useEffect)((function(){!e.name&&t(function(){var e=Object(j.a)(S.a.mark((function e(t,a){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a().profilePage.token,e.next=4,ee(n);case 4:r=e.sent,t(ae(r.data)),t(ne(r.data.token)),X(r.data.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0.response?(t(re(e.t0.response.data.error)),t(oe(!1)),console.log(e.t0.response.data.error)):t(re("Some ERROR"));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}())}),[]);return r.a.createElement("div",null,r.a.createElement(me,{profile:e}),r.a.createElement(g,{onClick:function(){return t((function(e){X(""),e(oe(!1)),e(ae({}))}))}},"SIGN OUT"))},fe=function(){var e=Object(v.c)((function(e){return e.signInPage.isAuth}));return r.a.createElement("div",null,r.a.createElement("h2",null,"Profile"),e?r.a.createElement(pe,null):r.a.createElement(m.a,{to:Qe}))},Ee=w.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/"}),de=function(e){return Object(j.a)(S.a.mark((function t(){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee.get("/cards/pack?token=".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},be="tableZiziReducer/SET_CARDPACKS",Oe="tableZiziReducer/SET_PACK",ge={cardPacks:[],error:"",pageCount:0,page:0,token:0,pack:{_id:"",name:"",created:"",updated:"",user_id:""}},he=function(e){return{type:be,cardPacks:e}},ve=function(e){return{type:"tableZiziReducer/SET_ERROR",error:e,isAuth:!1}},ke=a(155),Se=a(163),je=a(167),Re=a(166),_e=a(158),we=a(164),Ie=a(165),ye=a(160),Ce=a(77),Pe=a.n(Ce),Te=a(74),Ne=a.n(Te),xe=a(78),Ae=a.n(xe),Ue=a(73),Ge=a.n(Ue),De=a(161),Fe=a(162),We=a(168),Le=a(169),Me=a(75),ze=a.n(Me),Ze=a(76),Ke=a.n(Ze),He=Object(ke.a)({table:{minWidth:650}}),Je=function(e){var t=He(),a=e.tableData,c=e.tableTitle,o=e.colums,u=e.editItem,s=e.deletItem,i=e.searchItem,m=Object(n.useState)(""),p=Object(l.a)(m,2),f=p[0],E=p[1],d=o.map((function(e){return e.title})),b=o.map((function(e){return e.field})),O=Object(n.useCallback)((function(e){E(e.currentTarget.value),alert(f)}),[E,f]),g=Object(n.useCallback)((function(){i(f)}),[i,f]);return r.a.createElement(_e.a,{component:ye.a},r.a.createElement(De.a,null,c),r.a.createElement(Fe.a,null,r.a.createElement(Ge.a,{color:"primary"})),r.a.createElement(We.a,{id:"standard-search",label:"Search field",type:"search",onChange:O})," ",r.a.createElement(Fe.a,{onClick:g}," ",r.a.createElement(Ne.a,{color:"primary"})," "),r.a.createElement(Se.a,{className:t.table,"aria-label":"simple table"},r.a.createElement(we.a,null,r.a.createElement(Ie.a,null,d.map((function(e){return r.a.createElement(Re.a,null,e,r.a.createElement(Le.a,{orientation:"vertical",color:"primary","aria-label":"vertical outlined primary button group"},r.a.createElement(ze.a,null),r.a.createElement(Ke.a,null)))})),r.a.createElement(Re.a,{align:"right"},"action"))),r.a.createElement(je.a,null,a.map((function(e,t){return r.a.createElement(Ie.a,{key:t},b.map((function(t,a){return r.a.createElement(Re.a,{key:a,component:"th",scope:"row"},e[t])})),r.a.createElement(Re.a,{component:"th",scope:"row",align:"right"},r.a.createElement(Fe.a,{onClick:function(){return u(e)}}," ",r.a.createElement(Pe.a,{color:"primary"})," "),r.a.createElement(Fe.a,{onClick:function(){return s(e)}},r.a.createElement(Ae.a,{color:"primary"}))))})))))},Ve=function(){var e=Object(v.c)((function(e){return e.tablePage.cardPacks})),t=Object(v.b)();Object(n.useEffect)((function(){t(function(){var e=Object(j.a)(S.a.mark((function e(t,a){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Y()||"",e.next=4,de(n);case 4:r=e.sent,t(he(r.data.cardPacks)),t(ne(r.data.token)),X(r.data.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0.response?t(ve(e.t0.response.data.error)):t(ve("Some ERROR"));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}())}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Je,{tableData:e,colums:[{title:"Name",field:"name"},{title:"Grade",field:"grade"},{title:"Created",field:"created"},{title:"Updated",field:"updated"},{title:"User name",field:"user_name"},{title:"Cards",field:"cardsCount"}],tableTitle:"Packs",editItem:function(e){alert(e.user_name)},deletItem:function(e){alert(e._id)},searchItem:function(e){alert(e)}}))},Qe="/",Be="/registration",qe="/forgot-password",$e="/profile",Xe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.b,{exact:!0,path:Qe,component:ie}),r.a.createElement(m.b,{path:Be,component:D}),r.a.createElement(m.b,{path:qe,component:H}),r.a.createElement(m.b,{path:"/set-new-password",component:W}),r.a.createElement(m.b,{path:$e,component:fe}),r.a.createElement(m.b,{path:"/zizicards",component:Ve}))},Ye=function(){var e=Object(n.useState)(!0),t=Object(l.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:s.a.header},a?r.a.createElement("button",{onClick:function(){return c(!1)}},"Show navigation menu"):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return c(!0)}},"Hide navigation menu"),r.a.createElement(i.b,{className:s.a.link,to:Qe},"SIGN IN"),r.a.createElement(i.b,{className:s.a.link,to:Be},"REGISTRATION"),r.a.createElement(i.b,{className:s.a.link,to:qe},"FORGOT PASSWORD"),r.a.createElement(i.b,{className:s.a.link,to:"/set-new-password"},"SET NEW PASSWORD"),r.a.createElement(i.b,{className:s.a.link,to:$e},"PROFILE"),r.a.createElement(i.b,{className:s.a.link,to:"/cards"},"CARDS"),r.a.createElement(i.b,{className:s.a.link,to:"/zizicards"},"ZIZICARDS")))},et=function(){return r.a.createElement("div",{className:s.a.wraper},r.a.createElement(Ye,null))},tt=a(79),at=a.n(tt),nt=function(){return r.a.createElement("div",{className:at.a.main},r.a.createElement(Xe,null))};var rt=function(){var e=Object(v.b)();return Object(n.useEffect)((function(){var t=Y();t&&e(function(e,t){return function(a){a(oe(e)),a(ne(t))}}(!0,t))}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(et,null),r.a.createElement(nt,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ct=a(38),ot=a(80),lt={},ut=Object(ct.c)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/SET_PROFILE":return Object(R.a)(Object(R.a)({},e),{},{profile:t.profile});case"profile/SET_TOKEN":return Object(R.a)(Object(R.a)({},e),{},{token:t.token});case"profile/SET_ERROR":return Object(R.a)(Object(R.a)({},e),{},{error:t.error});default:return e}},forgotPasswordPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORGOT_PASSWORD_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{success:!0,error:""});case"FORGOT_PASSWORD_ERROR":return Object(R.a)(Object(R.a)({},e),{},{error:t.error.message})}return e},registrationPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"signUp/IIS_REGISTER_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{success:!0,loading:!1});case"signUp/SET_REGISTER_ERROR":return Object(R.a)(Object(R.a)({},e),{},{error:t.error,success:!1,loading:!1});case"SET_LOADING":return Object(R.a)(Object(R.a)({},e),{},{loading:!0});default:return e}},setNewPasswordPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return e},signInPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"signIn/IS_AUTH_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{isAuth:t.isAuth});case"signIn/SET_ERROR":return Object(R.a)(Object(R.a)({},e),{},{error:t.error});default:return e}},tablePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return Object(R.a)(Object(R.a)({},e),{},{cardPacks:t.cardPacks});case Oe:return Object(R.a)(Object(R.a)({},e),{},{pack:t.pack});case"tableZiziReducer/SET_ERROR":return Object(R.a)(Object(R.a)({},e),{},{error:t.error});default:return e}}}),st=Object(ct.d)(ut,Object(ct.a)(ot.a));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,null,r.a.createElement(v.a,{store:st},r.a.createElement(rt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},23:function(e,t,a){e.exports={wraper:"header_wraper__UnVwf",header:"header_header__1-L5A",link:"header_link__14HVq"}},44:function(e,t,a){e.exports={wraper:"signIn_wraper__20ITI",signIn:"signIn_signIn__1mMsw",form:"signIn_form__2Sh7y",inputText:"signIn_inputText__2AuFx"}},48:function(e,t,a){e.exports={input:"input_input__k8J0Q",inputError:"input_inputError__lV3v_",error:"input_error__2bxGV"}},66:function(e,t,a){e.exports={button:"button_button__2xIPi"}},68:function(e,t,a){e.exports={error:"errorMessage_error__33Qmr"}},69:function(e,t,a){e.exports={loading:"loading_loading__1QcTx"}},79:function(e,t,a){e.exports={main:"main_main__ZrJEr"}},89:function(e,t,a){e.exports=a(120)},94:function(e,t,a){},95:function(e,t,a){}},[[89,1,2]]]);
//# sourceMappingURL=main.cd6f1790.chunk.js.map