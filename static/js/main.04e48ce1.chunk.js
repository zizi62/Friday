(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{12:function(e,t,n){e.exports={wraper:"header_wraper__UnVwf",header:"header_header__1-L5A",link:"header_link__14HVq"}},17:function(e,t,n){e.exports={input:"input_input__k8J0Q",inputError:"input_inputError__lV3v_",error:"input_error__2bxGV"}},21:function(e,t,n){e.exports={wraper:"signIn_wraper__20ITI",signIn:"signIn_signIn__1mMsw",form:"signIn_form__2Sh7y",inputText:"signIn_inputText__2AuFx"}},37:function(e,t,n){e.exports={button:"button_button__2xIPi"}},39:function(e,t,n){e.exports={error:"errorMessage_error__33Qmr"}},40:function(e,t,n){e.exports={main:"main_main__ZrJEr"}},43:function(e,t,n){e.exports=n(73)},48:function(e,t,n){},49:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(19),l=n.n(c),o=(n(48),n(49),n(3)),u=n(12),s=n.n(u),i=n(2),m=n(42),p=n(17),E=n.n(p),f=function(e){var t=e.onEnter,n=e.error,r=Object(m.a)(e,["onEnter","error"]),c=n?E.a.input+" "+E.a.inputError:E.a.input;return a.a.createElement("div",null,a.a.createElement("input",Object.assign({className:c,type:"text",name:"myInput",onKeyDown:function(e){13===e.charCode&&t&&t()}},r)),n?a.a.createElement("span",{className:E.a.error},n):null)},b=n(37),d=n.n(b),h=function(e){return a.a.createElement("div",null,a.a.createElement("button",Object.assign({className:d.a.button},e)))},g=function(){return a.a.createElement("div",null,a.a.createElement(f,{placeholder:"login"}),a.a.createElement(f,{type:"password",placeholder:"password"}),a.a.createElement(f,{type:"password",placeholder:"password"}),a.a.createElement(f,{type:"checkbox"}),a.a.createElement(h,null,"SIGN UP"),a.a.createElement(o.b,{to:Y},"SIGN IN"))},v=function(){return a.a.createElement("div",null,a.a.createElement("h2",null,"SIGN UP"),a.a.createElement(g,null))},O=function(){return a.a.createElement("div",null,a.a.createElement(f,{type:"password"}),a.a.createElement(f,null),a.a.createElement(h,null,"SEND PASSWORD"),a.a.createElement(o.b,{to:Y},"SIGN IN"))},_=function(){return a.a.createElement("div",null,a.a.createElement("h2",null,"SET NEW PASSWORD"),a.a.createElement(O,null))},w=function(){return a.a.createElement("div",null,a.a.createElement(f,{type:"email",placeholder:"email"}),a.a.createElement(o.b,{to:te}," Forgot password?"),a.a.createElement(h,null,"SEND NEW PASSWORD"),a.a.createElement(o.b,{to:Y},"SIGN IN"))},S=function(){return a.a.createElement("div",null,a.a.createElement("h2",null,"FORGOT PASSWORD"),a.a.createElement(w,null))},I=function(){return a.a.createElement("div",null,a.a.createElement(S,null))},j=n(18),N=n(21),k=n.n(N),R=function(e){var t=e.email,n=e.password,r=e.rememberMe,c=e.error,l=e.setEmail,u=e.setPassword,s=e.setRememberMe,i=e.signIn;return a.a.createElement("div",{className:k.a.signIn},a.a.createElement(f,{placeholder:"email",type:"email",onChange:l,value:t,error:c}),a.a.createElement(f,{type:"password",placeholder:"password",onChange:u,value:n,error:c}),a.a.createElement(f,{type:"checkbox",onChange:s,checked:r}),a.a.createElement("span",null,"Remember Me"),a.a.createElement(h,{onClick:i},"SIGN IN"),a.a.createElement(o.b,{to:ee},"Registration"))},y=n(10),x=n(8),P=n.n(x),T=n(13),A=n(11),C=n(22),G=n.n(C),W=G.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/"}),F=function(e,t,n){return Object(T.a)(P.a.mark((function r(){return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,W.post("auth/login",{email:e,password:t,rememberMe:n});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()},D=G.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/"}),M=function(e){return Object(T.a)(P.a.mark((function t(){var n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.post("auth/me",{token:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},U={profile:{},error:"",token:""},L=function(e){return{type:"profile/SET_PROFILE",profile:e}},J=function(e){return{type:"profile/SET_ERROR",error:e}},V={isAuth:!1,error:""},H=function(e){return{type:"signIn/SET_ERROR",error:e,isAuth:!1}},B=n(39),Q=n.n(B),q=function(e){var t=e.message;return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{className:Q.a.error},t))},K=function(){var e=Object(y.c)((function(e){return e.signInPage.error})),t=Object(r.useState)(""),n=Object(j.a)(t,2),c=n[0],l=n[1],o=Object(r.useState)(""),u=Object(j.a)(o,2),s=u[0],i=u[1],m=Object(r.useState)(!1),p=Object(j.a)(m,2),E=p[0],f=p[1],b=Object(r.useState)(""),d=Object(j.a)(b,2),h=d[0],g=d[1],v=Object(y.b)(),O=Object(r.useCallback)((function(){c&&s?(v(function(e,t,n){return function(){var r=Object(T.a)(P.a.mark((function r(a){var c;return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,F(e,t,n);case 3:c=r.sent,a({type:"signIn/IS_AUTH_SUCCESS",error:"",isAuth:!0}),a(L(c)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),r.t0.response?a(H(r.t0.response.data.error)):a(H("Some ERROR"));case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}(c,s,E)),l(""),i(""),f(!1)):g("all fields must be filled")}),[c,s,E,v]),_=Object(r.useCallback)((function(e){l(e.currentTarget.value),g("")}),[l,g]),w=Object(r.useCallback)((function(e){i(e.currentTarget.value),g("")}),[i,g]),S=Object(r.useCallback)((function(e){return f(e.currentTarget.checked)}),[f]);return a.a.createElement("div",{className:k.a.wraper},a.a.createElement("h2",null,"SIGN IN"),e&&a.a.createElement(q,{message:e}),a.a.createElement(R,{email:c,password:s,rememberMe:E,error:h,setEmail:_,setPassword:w,setRememberMe:S,signIn:O}))},Z=function(){var e=Object(y.c)((function(e){return e.signInPage.isAuth}));return a.a.createElement(a.a.Fragment,null,e&&a.a.createElement(i.a,{to:ne}),a.a.createElement(K,null))},$=function(){return a.a.createElement("div",null,"Profile")},z=function(){var e=Object(y.b)();return Object(r.useEffect)((function(){e(function(){var e=Object(T.a)(P.a.mark((function e(t){var n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,localStorage.getItem("token"),n="7c14aed0-b8f5-11ea-82a5-e1ef009c6bcd",e.next=7,M(n);case 7:(r=e.sent).data.success?t(L(r.data)):t(J(r.data.error));case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),t(J("Somethisg wrong"));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}),[]),a.a.createElement("div",null,a.a.createElement($,null))},X=function(){Object(y.c)((function(e){return e.signInPage.isAuth}));return a.a.createElement("div",null,a.a.createElement(z,null))},Y="/sign-in",ee="/registration",te="/forgot-password",ne="/profile",re=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.b,{path:Y,component:Z}),a.a.createElement(i.b,{path:ee,component:v}),a.a.createElement(i.b,{path:te,component:I}),a.a.createElement(i.b,{path:"/set-new-password",component:_}),a.a.createElement(i.b,{path:ne,component:X}))},ae=function(){return a.a.createElement("div",{className:s.a.header},a.a.createElement(o.b,{className:s.a.link,to:Y},"SIGN IN"),a.a.createElement(o.b,{className:s.a.link,to:ee},"REGISTRATION"),a.a.createElement(o.b,{className:s.a.link,to:te},"FORGOT PASSWORD"),a.a.createElement(o.b,{className:s.a.link,to:"/set-new-password"},"SET NEW PASSWORD"),a.a.createElement(o.b,{className:s.a.link,to:ne}," PROFILE"))},ce=function(){return a.a.createElement("div",{className:s.a.wraper},a.a.createElement(ae,null))},le=n(40),oe=n.n(le),ue=function(){return a.a.createElement("div",{className:oe.a.main},a.a.createElement(re,null))},se=n(15),ie=n(41),me={},pe={},Ee={},fe=Object(se.c)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/SET_PROFILE":return Object(A.a)(Object(A.a)({},e),{},{profile:t.profile});case"profile/SET_ERROR":return Object(A.a)(Object(A.a)({},e),{},{error:t.error});default:return e}},forgotPasswordPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me;return e},registrationPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe;return e},setNewPasswordPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee;return e},signInPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"signIn/IS_AUTH_SUCCESS":return Object(A.a)(Object(A.a)({},e),{},{isAuth:t.isAuth});case"signIn/SET_ERROR":return Object(A.a)(Object(A.a)({},e),{},{error:t.error});default:return e}}}),be=Object(se.d)(fe,Object(se.a)(ie.a));var de=function(){return a.a.createElement(o.a,null,a.a.createElement(y.a,{store:be},a.a.createElement("div",{className:"App"},a.a.createElement(ce,null),a.a.createElement(ue,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.04e48ce1.chunk.js.map