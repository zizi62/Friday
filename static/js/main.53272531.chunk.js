(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{183:function(e,t,n){e.exports={wraper:"signIn_wraper__20ITI",signIn:"signIn_signIn__1mMsw",form:"signIn_form__2Sh7y",inputText:"signIn_inputText__2AuFx"}},206:function(e,t,n){e.exports={input:"input_input__k8J0Q",inputError:"input_inputError__lV3v_",error:"input_error__2bxGV"}},346:function(e,t,n){e.exports={button:"button_button__2xIPi"}},348:function(e,t,n){e.exports={error:"errorMessage_error__33Qmr"}},349:function(e,t,n){e.exports={loading:"loading_loading__1QcTx"}},353:function(e,t,n){e.exports={main:"main_main__ZrJEr"}},364:function(e,t,n){e.exports=n(449)},369:function(e,t,n){},370:function(e,t,n){},449:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(15),o=n.n(c),u=(n(369),n(370),n(59)),l=n(87),s=n.n(l),i=n(28),m=n(30),p=n(355),f=n(206),E=n.n(f),b=function(e){var t=e.onEnter,n=e.error,r=Object(p.a)(e,["onEnter","error"]),c=n?E.a.input+" "+E.a.inputError:E.a.input;return a.a.createElement("div",null,a.a.createElement("input",Object.assign({className:c,type:"text",name:"myInput",onKeyDown:function(e){13===e.charCode&&t&&t()}},r)))},d=n(346),O=n.n(d),h=function(e){return a.a.createElement("div",null,a.a.createElement("button",Object.assign({className:O.a.button},e)))},g=function(e){var t=e.loading,n=e.email,r=e.password,c=e.checkPassword,o=e.error,u=e.setEmail,l=e.setPassword,s=e.setCheckPassword,m=e.signUp;return a.a.createElement("div",null,a.a.createElement(b,{placeholder:"login",value:n,onChange:u}),a.a.createElement(b,{type:"password",placeholder:"password",value:r,onChange:l,error:o}),a.a.createElement(b,{type:"password",placeholder:"check password",value:c,onChange:s,error:o}),a.a.createElement(h,{onClick:m,disabled:!!t},"SIGN UP"),a.a.createElement(i.b,{to:he},"SIGN IN"))},v=n(26),S=n(31),j=n.n(S),w=n(58),_=n(19),R=n(97),k=n.n(R),I=k.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/"}),T=function(e,t){return I.post("auth/register",{email:e,password:t}).then((function(e){return e.data.success}))},P={error:"",success:!1,loading:!1},y=function(e){return{type:"signUp/SET_REGISTER_ERROR",error:e}},C=n(348),N=n.n(C),x=function(e){var t=e.message;return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{className:N.a.error},t))},A=n(349),U=n.n(A),G=function(e){return a.a.createElement("p",{className:U.a.loading},"Loading...")},D=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(""),l=Object(u.a)(o,2),s=l[0],i=l[1],p=Object(r.useState)(""),f=Object(u.a)(p,2),E=f[0],b=f[1],d=Object(v.d)((function(e){return e.registrationPage})),O=d.error,h=d.success,S=d.loading,_=Object(v.c)(),R=Object(r.useCallback)((function(e){c(e.currentTarget.value),_(y(""))}),[c]),k=Object(r.useCallback)((function(e){i(e.currentTarget.value)}),[i]),I=Object(r.useCallback)((function(e){b(e.currentTarget.value)}),[b]),P=Object(r.useCallback)((function(){s.length===E.length&&s===E?n&&s&&E&&_(function(e,t){return function(){var n=Object(w.a)(j.a.mark((function n(r){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:"SET_LOADING"}),n.next=4,T(e,t);case 4:n.sent&&r({type:"signUp/IIS_REGISTER_SUCCESS"}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),r(y(n.t0.message));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(n,s)):_(y("passwords don't match"))}),[n,s,E]);return h?a.a.createElement(m.a,{to:he}):a.a.createElement("div",null,a.a.createElement("h2",null,"SIGN UP"),S&&a.a.createElement(G,null),!!O&&a.a.createElement(x,{message:O}),a.a.createElement(g,{loading:S,email:n,password:s,checkPassword:E,error:O,setEmail:R,setPassword:k,setCheckPassword:I,signUp:P}))},F=function(){return a.a.createElement("div",null,a.a.createElement(b,{type:"password"}),a.a.createElement(b,null),a.a.createElement(h,null,"SEND PASSWORD"),a.a.createElement(i.b,{to:he},"SIGN IN"))},W=function(){return a.a.createElement("div",null,a.a.createElement("h2",null,"SET NEW PASSWORD"),a.a.createElement(F,null))},L=k.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/"}),M=function(e){return Object(w.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.post("auth/forgot",{email:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},B={success:!1,error:""},H=function(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),c=n[0],o=n[1],l=Object(v.c)(),s=Object(r.useCallback)((function(e){o(e.currentTarget.value)}),[o]);return a.a.createElement("div",null,a.a.createElement(b,{type:"email",placeholder:"email",onChange:s,value:c,error:e.error}),a.a.createElement(h,{onClick:function(){l(function(e){return function(){var t=Object(w.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M(e);case 3:t.next=10;break;case 5:t.prev=5,t.t0=t.catch(0),r=t.t0,console.log(r),n({type:"FORGOT_PASSWORD_ERROR",error:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()}(c))}},"Send email"),a.a.createElement(i.b,{to:he},"Sign in"))},J=function(){var e=Object(v.d)((function(e){return e.forgotPasswordPage.error}));return a.a.createElement("div",null,a.a.createElement("h2",null,"FORGOT PASSWORD"),!!e&&a.a.createElement(x,{message:e}),a.a.createElement(H,{error:e}))},V=function(){return a.a.createElement("div",null,a.a.createElement(J,null))},Y=n(183),K=n.n(Y),Q=function(e){var t=e.email,n=e.password,r=e.rememberMe,c=e.error,o=e.setEmail,u=e.setPassword,l=e.setRememberMe,s=e.signIn;return a.a.createElement("div",{className:K.a.signIn},a.a.createElement(b,{placeholder:"email",type:"email",onChange:o,value:t,error:c}),a.a.createElement(b,{type:"password",placeholder:"password",onChange:u,value:n,error:c}),a.a.createElement(b,{type:"checkbox",onChange:l,checked:r}),a.a.createElement("span",null,"Remember Me"),a.a.createElement(h,{onClick:s},"SIGN IN"),a.a.createElement(i.b,{to:ve},"Forgot password?"),a.a.createElement("br",null),a.a.createElement(i.b,{to:ge},"Registration"))},Z=k.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/"}),q=function(e,t,n){return Object(w.a)(j.a.mark((function r(){return j.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Z.post("auth/login",{email:e,password:t,rememberMe:n});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()},$=k.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/"}),z=function(e){localStorage.setItem("token",e)},X=function(){return localStorage.getItem("token")},ee=function(e){return Object(w.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.post("auth/me",{token:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},te={profile:{},error:"",token:""},ne=function(e){return{type:"profile/SET_PROFILE",profile:e}},re=function(e){return{type:"profile/SET_TOKEN",token:e}},ae=function(e){return{type:"profile/SET_ERROR",error:e}},ce={isAuth:!1,error:""},oe=function(e){return{type:"signIn/IS_AUTH_SUCCESS",error:"",isAuth:e}},ue=function(e){return{type:"signIn/SET_ERROR",error:e,isAuth:!1}},le=function(e){return function(t){t(ue(e))}},se=function(){var e=Object(v.d)((function(e){return e.signInPage.error})),t=Object(r.useState)(""),n=Object(u.a)(t,2),c=n[0],o=n[1],l=Object(r.useState)(""),s=Object(u.a)(l,2),i=s[0],m=s[1],p=Object(r.useState)(!1),f=Object(u.a)(p,2),E=f[0],b=f[1],d=Object(v.c)(),O=Object(r.useCallback)((function(){c&&i?(d(function(e,t,n){return function(){var r=Object(w.a)(j.a.mark((function r(a){var c;return j.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,q(e,t,n);case 3:c=r.sent,a(oe(!0)),a(re(c.data.token)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),r.t0.response?a(ue(r.t0.response.data.error)):a(ue("Some ERROR"));case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}(c,i,E)),o(""),m(""),b(!1)):d(le("all fields must be filled"))}),[c,i,E,d]),h=Object(r.useCallback)((function(e){o(e.currentTarget.value),d(le(""))}),[o]),g=Object(r.useCallback)((function(e){m(e.currentTarget.value),d(le(""))}),[m]),S=Object(r.useCallback)((function(e){return b(e.currentTarget.checked)}),[b]);return a.a.createElement("div",{className:K.a.wraper},a.a.createElement("h2",null,"SIGN IN"),e&&a.a.createElement(x,{message:e}),a.a.createElement(Q,{email:c,password:i,rememberMe:E,error:e,setEmail:h,setPassword:g,setRememberMe:S,signIn:O}))},ie=function(){var e=Object(v.d)((function(e){return e.signInPage.isAuth}));return a.a.createElement(a.a.Fragment,null,e&&a.a.createElement(m.a,{to:Se}),a.a.createElement(se,null))},me=function(e){var t=e.profile;return a.a.createElement("div",null,a.a.createElement("h2",null,t.name))},pe=function(){var e=Object(v.d)((function(e){return e.profilePage.profile})),t=Object(v.c)();Object(r.useEffect)((function(){!e.name&&t(function(){var e=Object(w.a)(j.a.mark((function e(t,n){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n().profilePage.token,e.next=4,ee(r);case 4:a=e.sent,t(ne(a.data)),t(re(a.data.token)),z(a.data.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0.response?(t(ae(e.t0.response.data.error)),t(oe(!1)),console.log(e.t0.response.data.error)):t(ae("Some ERROR"));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}())}),[]);return a.a.createElement("div",null,a.a.createElement(me,{profile:e}),a.a.createElement(h,{onClick:function(){return t((function(e){z(""),e(oe(!1)),e(ne({}))}))}},"SIGN OUT"))},fe=function(){var e=Object(v.d)((function(e){return e.signInPage.isAuth}));return a.a.createElement("div",null,a.a.createElement("h2",null,"Profile"),e?a.a.createElement(pe,null):a.a.createElement(m.a,{to:he}))},Ee=n(207),be=n(350),de=n.n(be);function Oe(){var e=a.a.useState({columns:[{title:"Name",field:"name"},{title:"Surname",field:"surname"},{title:"Birth Year",field:"birthYear",type:"numeric"},{title:"Birth Place",field:"birthCity",lookup:{34:"\u0130stanbul",63:"\u015eanl\u0131urfa"}}],data:[{name:"Mehmet",surname:"Baran",birthYear:1987,birthCity:63},{name:"Zerya Bet\xfcl",surname:"Baran",birthYear:2017,birthCity:34}]}),t=Object(u.a)(e,2),n=t[0],r=t[1];return a.a.createElement(de.a,{title:"Editable Example",columns:n.columns,data:n.data,editable:{onRowAdd:function(e){return new Promise((function(t){setTimeout((function(){t(),r((function(t){var n=Object(Ee.a)(t.data);return n.push(e),Object(_.a)(Object(_.a)({},t),{},{data:n})}))}),600)}))},onRowUpdate:function(e,t){return new Promise((function(n){setTimeout((function(){n(),t&&r((function(n){var r=Object(Ee.a)(n.data);return r[r.indexOf(t)]=e,Object(_.a)(Object(_.a)({},n),{},{data:r})}))}),600)}))},onRowDelete:function(e){return new Promise((function(t){setTimeout((function(){t(),r((function(t){var n=Object(Ee.a)(t.data);return n.splice(n.indexOf(e),1),Object(_.a)(Object(_.a)({},t),{},{data:n})}))}),600)}))}}})}var he="/",ge="/registration",ve="/forgot-password",Se="/profile",je=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(m.b,{exact:!0,path:he,component:ie}),a.a.createElement(m.b,{path:ge,component:D}),a.a.createElement(m.b,{path:ve,component:V}),a.a.createElement(m.b,{path:"/set-new-password",component:W}),a.a.createElement(m.b,{path:Se,component:fe}),a.a.createElement(m.b,{path:"/cards",component:Oe}))},we=function(){var e=Object(r.useState)(!0),t=Object(u.a)(e,2),n=t[0],c=t[1];return a.a.createElement("div",{className:s.a.header},n?a.a.createElement("button",{onClick:function(){return c(!1)}},"Show navigation menu"):a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{onClick:function(){return c(!0)}},"Hide navigation menu"),a.a.createElement(i.b,{className:s.a.link,to:he},"SIGN IN"),a.a.createElement(i.b,{className:s.a.link,to:ge},"REGISTRATION"),a.a.createElement(i.b,{className:s.a.link,to:ve},"FORGOT PASSWORD"),a.a.createElement(i.b,{className:s.a.link,to:"/set-new-password"},"SET NEW PASSWORD"),a.a.createElement(i.b,{className:s.a.link,to:Se},"PROFILE"),a.a.createElement(i.b,{className:s.a.link,to:"/cards"},"CARDS")))},_e=function(){return a.a.createElement("div",{className:s.a.wraper},a.a.createElement(we,null))},Re=n(353),ke=n.n(Re),Ie=function(){return a.a.createElement("div",{className:ke.a.main},a.a.createElement(je,null))};var Te=function(){var e=Object(v.c)();return Object(r.useEffect)((function(){var t=X();t&&e(function(e,t){return function(n){n(oe(e)),n(re(t))}}(!0,t))}),[]),a.a.createElement("div",{className:"App"},a.a.createElement(_e,null),a.a.createElement(Ie,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pe=n(68),ye=n(354),Ce={},Ne=Object(Pe.c)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/SET_PROFILE":return Object(_.a)(Object(_.a)({},e),{},{profile:t.profile});case"profile/SET_TOKEN":return Object(_.a)(Object(_.a)({},e),{},{token:t.token});case"profile/SET_ERROR":return Object(_.a)(Object(_.a)({},e),{},{error:t.error});default:return e}},forgotPasswordPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORGOT_PASSWORD_SUCCESS":return Object(_.a)(Object(_.a)({},e),{},{success:!0,error:""});case"FORGOT_PASSWORD_ERROR":return Object(_.a)(Object(_.a)({},e),{},{error:t.error.message})}return e},registrationPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"signUp/IIS_REGISTER_SUCCESS":return Object(_.a)(Object(_.a)({},e),{},{success:!0,loading:!1});case"signUp/SET_REGISTER_ERROR":return Object(_.a)(Object(_.a)({},e),{},{error:t.error,success:!1,loading:!1});case"SET_LOADING":return Object(_.a)(Object(_.a)({},e),{},{loading:!0});default:return e}},setNewPasswordPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce;return e},signInPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"signIn/IS_AUTH_SUCCESS":return Object(_.a)(Object(_.a)({},e),{},{isAuth:t.isAuth});case"signIn/SET_ERROR":return Object(_.a)(Object(_.a)({},e),{},{error:t.error});default:return e}}}),xe=Object(Pe.e)(Ne,Object(Pe.a)(ye.a));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(i.a,null,a.a.createElement(v.a,{store:xe},a.a.createElement(Te,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},87:function(e,t,n){e.exports={wraper:"header_wraper__UnVwf",header:"header_header__1-L5A",link:"header_link__14HVq"}}},[[364,1,2]]]);
//# sourceMappingURL=main.53272531.chunk.js.map